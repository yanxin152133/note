# 1. 面向对象
python是一门面向对象的语言。

## 1.1. 简介
- 类(Class): 用来描述具有相同的属性和方法的对象的集合。它定义了该集合中每个对象所共有的属性和方法。对象是类的实例。
- 类变量：类变量在整个实例化的对象中是公用的。类变量定义在类中且在函数体之外。类变量通常不作为实例变量使用。
- 数据成员：类变量或者实例变量, 用于处理类及其实例对象的相关的数据。
- 方法重写：如果从父类继承的方法不能满足子类的需求，可以对其进行改写，这个过程叫方法的覆盖（override），也称为方法的重写。
- 局部变量：定义在方法中的变量，只作用于当前实例的类。
- 实例变量：在类的声明中，属性是用变量来表示的。这种变量就称为实例变量，是在类声明的内部但是在类的其他成员方法之外声明的。
- 继承：即一个派生类（derived class）继承基类（base class）的字段和方法。继承也允许把一个派生类的对象作为一个基类对象对待。例如，有这样一个设计：一个Dog类型的对象派生自Animal类，这是模拟"是一个（is-a）"关系（例图，Dog是一个Animal）。
- 实例化：创建一个类的实例，类的具体对象。
- 方法：类中定义的函数。
- 对象：通过类定义的数据结构实例。对象包括两个数据成员（类变量和实例变量）和方法。

## 1.2. 类
具有相同特性（数据元素）和行为（功能）的对象的抽象就是类。类本身只是一个抽象，因此并不能直接拿来用，必须先定义类，然后根据类创建对象，然后才可以使用对象里面的属性和方法。
    
python 中定义类有两种方法，一种是用`class`关键字，一种是用`type`，一般第二种很少使用。

### 1.2.1. class
语法：
```python
class ClassName:
    propertoy lisy
    function list 
```

- class：定义类使用的关键字
- ClassName：类名

使用class 关键字，定义一个类，类的首字母一般都大写。

### 1.2.2. type
语法:
```python
Foo = type('Foo', (object,), {'talk':func})
```

使用 type 关键字，定义一个类 Foo，该类有一个 talk 方法。其中，type 函数的第一个参数是类名，第二个参数是类的父类，第三个参数是类的方法。

## 1.3. 类属性
python中的类属性是指定义在类的内部而且在方法的外部的属性，python中直接可以使用“类属性名=value”的形式来为类添加一个类属性，python中的类属性可以有0个或者多个。

实例：
```python
class People:
    money = 10000
    def __init__(self):
        pass
```
其中money属性就属于类属性。

### 1.3.1. 类属性调用
python中的类属性调用方法有两种，一种是通过“类名.属性”，一种是通过“对象.属性”的方法来调用。语法：
```python
Class.attr   # 类名.属性
ins.attr     # 对象.属性
```

## 1.4. 实例属性
python中的实例属性是指定义在类的方法的内部的属性，python中的实例属性可以是0个或者多个。

实例：
```python
class People:
    money = 10000
    def __init__(self,name,age):
        self.nm = name
        self.ag = age
        pass
```

定义了一个`People`类，People 类的`money`属性是定义在 函数 外部的，因此`money`属性属于类属性。    
其中，`_init__ `函数的 参数 name 和 age，并不是实例属性，这只是`__init__`函数中的局部 变量，我们必须在函数内部将这两个参数赋值给`self.`的形式，这时类中才有了实例属性。    
因此，类`Person`中的实例属性只有`nm`和`ag`，而不是`name`和`age`。

### 1.4.1. 实例属性调用
通过`实例.属性`的方法，访问实例属性。参考：
```python
class Student:
    score = 99.95
    def __init__(self, name, age):
        print("Call init")
stu = Student("HaiCoder", 18)
print("Name =", stu.name, "Age =", stu.age, "Score =", stu.score)
```

## 1.5. 类属性和实例属性的区别
### 1.5.1. 定义区别
Python 中的 类属性 是指定义在 类 的内部而且在方法的外部的属性，Python 中直接可以使用 “类属性名=value” 的形式来为类添加一个类属性，Python 中的类属性可以有 0 个或者多个。    

Python 中的 实例属性 是指定义在类的方法的内部的属性，Python 中的实例属性可以有 0 个或者多个。

### 1.5.2. 调用区别
| 属性     | 调用方法                                                                                       |
|----------|------------------------------------------------------------------------------------------------|
| 类属性   | 类属性的调用方法有两种，一种是通过“类名.属性” 的方法，另一种是通过“对象.属性” 的方法来调用 |
| 实例属性 | 实例属性只能通过“实例.属性” 的方法来调用                                                     |



### 1.5.3. 作用域
| 属性     | 作用域                                                                             |
|----------|------------------------------------------------------------------------------------|
| 类属性   | 类属性是类对象所拥有的属性，它被所有类属性的实例对象所共有，在内存中只存在一个副本 |
| 实例属性 | 实例对象的属性为实例对象自己所私有                                                 |

### 1.5.4. 总结
类属性就是类对象所拥有的属性，它被所有类对象的实例对象所共有，在内存中只存在一个副本，而实例对象的属性为实例对象自己所私有。

## 1.6. \_init_ 函数
在创建类的时候，可以手动为类添加一个\__init__方法，该方法是一个特殊的类实例方法，称为构造方法或构造函数。第一参数是固定的`self`，其他参数可以有0个或者任意多个。

语法：
```python
def __init__(self,...):
    pass
```

Python 构造方法的名字为 \__init__，其中第一个参数一定为 self，其他可以有 0 个或者任意多个 参数。

此方法的方法名中，开头和结尾各有两个连续的下划线，这是构造函数的固定写法，在 Python 中，以两个连续的下划线开始和两个连续的下划线结尾的函数都有特殊的含义。

## 1.7. self
类中的构造函数、实例函数和类函数的第一个参数都是self。在python 中self 并不是关键字，因此self名称不是必须的，可以替换成其他，但是一般都是使用self。

self只有在类的方法中才会有，独立的函数或方法是不必带有self的，且self参数在调用时不必传入相应的参数

在python中，调用类方法时，self指的就是类实例对象的本身。同时self还可以做函数返回值，进行返回。

## 1.8. 对象
在python中类是无法直接使用的，只有使用类创建了对象之后，使用对象来调用类中的变量和方法。使用类来创建对象的过程，又称为类的实例化。

语法：
```python
class_var = Classname(param)
```

- class_var：类的实例，即对象
- Classname：类名
- param：构造函数参数

## 1.9. 类方法
python类中的方法有三种形式，分别为`类方法`、`实例方法`、`静态方法`。

语法：
```python
class People:
    money = 10000
    @classmethod
    def func_name(cls, params):
        pass
```

说明：定义了一个People 类，People 类中有一个方法 func_name，func_name 方法使用@classmethod 修饰的，因此它是一个类方法，

类方法的第一个参数一般为cls，后面可以有任意多个参数。

### 1.9.1. 类方法调用
类方法调用方法有两种：
- 类名.方法名（推荐）
- 对象.方法名

## 1.10. 实例方法
在python 中，在类中定义的方法默认都是实例方法，python 中的实例方法类似于构造方法，第一个参数也是self，且不需要使用任何的修饰符修饰。

语法：
```python
class People:
    money = 10000
    def func_name(self, params):
        pass
```

我们定义了一个 People 类，People 类有一个方法 func_name，func_name 方法是没有使用任何修饰符做修饰，因此它是一个实例方法。

实例方法的第一个参数一般为 cls，后面可以有任意多个参数。

### 1.10.1. 实例方法调用
实例方法调用有两种形式：
- 对象.方法名
- 类名.方法名(对象，参数列表)

## 1.11. 静态方法
静态方法的使用需要`@staticmethod`来修饰，且类的静态方法的参数没有任何限制，可以没有任何参数，第一个参数也不必像类方法和实例方法那样。

语法：
```python
class People:
    money = 10000
    @staticmethod
    def func_name(params):
        pass
```

说明：定义了一个People 类，People 类中有一个方法func_name,func_name方法是用`@staticmethod` 修饰的，因此它是一个类静态方法。


### 1.11.1. 静态方法调用
静态方法的调用方式有两种：
- 类名.方法名
- 对象.方法名