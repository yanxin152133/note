# 1. Git
## 1.1. 定义
Linux 内核项目组当时使用分布式版本控制系统 BitKeeper 来管理和维护代码。但是，后来开发 BitKeeper 的商业公司同 Linux 内核开源社区的合作关系结束，他们收回了 Linux 内核社区免费使用 BitKeeper 的权力。 Linux 开源社区（特别是 Linux 的缔造者 Linus Torvalds）基于使用 BitKeeper 时的经验教训，开发出自己的版本系统，而且对新的版本控制系统做了很多改进。

## 1.2. Git与其他版本管理系统的主要区别
Git在保存和对待各种信息的时候与其他版本控制系统有很大差异，尽管操作起来的命令形式非常相近，理解这些差异将有助于防止你使用中的困惑。

Git与其他版本管理系统的主要差别：对待数据的方式。

Git采用的是直接记录快照的方式，而非差异比较。

大部分版本控制系统（VS、Subversion、Perforce、Bazaar 等等）都是以文件变更列表的方式存储信息，这类系统将它们保存的信息看作是一组基本文件和每个文件随时间逐步累积的差异。

具体原理如下图所示，理解起来其实很简单，每个我们对提交更新一个文件之后，系统记录都会记录这个文件做了哪些更新，以增量符号Δ(Delta)表示。

![](../../../../pict/2019-3deltas.png)

然后只需要将这些原文件和这些增加进行相加就行了。

**存在的问题**

比如当增量特别特别多的时候，最终我们的文件是不是会耗费时间和性能。

Git不按照以上方式对待或保存数据。反之，Git更像是把数据看作是对小型文件系统的一组快照。每次你提交更新，或在Git中保存项目状态时，它主要对当时的全部文件制作一个快照并保存这个快照的索引。为了高效，如果文件没有修改，Git不再重新存储文件，而是只保留一个链接指向指向之前存储的文件。Git对待数据更像是一个快照流。

![](../../../../pict/2019-3snapshots.png)

## 1.3. 基础概念
### 1.3.1. 代码开发流程
- 系统开发，编写代码
- 提交代码给Git本地库
- 将代码提交到Git远程库，分享给团队其他人
- 从远程库获取最新代码
- 继续编写修改代码
- 重复第二步及以后的操作

### 1.3.2. Git
+ 本地工作文件夹
+ Git索引区（Stage）
+ Git库（Repository）
    - local：本地库
    - remote：远程库

## 1.4. Git三种状态
 Git 有三种状态，你的文件可能处于其中之一：已提交(committed)、已修改(modified)和已暂存(staged)。 已提交表示数据已经安全的保存在本地数据库中。 已修改表示修改了文件，但还没保存到数据库中。 已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。

由此引入 Git 项目的三个工作区域的概念：Git 仓库、工作目录以及暂存区域。工作目录、暂存区域以及 Git 仓库如下图所示 -

![](http://www.yiibai.com/uploads/images/201707/0607/744160702_48164.png)

Git 仓库目录是 Git 用来保存项目的元数据和对象数据库的地方。 这是 Git 中最重要的部分，从其它计算机克隆仓库时，拷贝的就是这里的数据。

工作目录是对项目的某个版本独立提取出来的内容。 这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。

暂存区域是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。 有时候也被称作‘索引’，不过一般说法还是叫暂存区域。

### 1.4.1. 基本的 Git 工作流程
1. 在工作目录中修改文件。
2. 暂存文件，将文件的快照放入暂存区域。
3. 提交更新，找到暂存区域的文件，将快照永久性存储到 Git 仓库目录




