## **文件搜索**
### find
>在指定目录下查找文件。
         
find命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则find命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。
              
**语法：**
          
```html
find(选项)(参数)
```
          
**选项：**
        
```html
-amin<分钟>：查找在指定时间曾被存取过的文件或目录，单位以分钟计算；
-anewer<参考文件或目录>：查找其存取时间较指定文件或目录的存取时间更接近现在的文件或目录；
-atime<24小时数>：查找在指定时间曾被存取过的文件或目录，单位以24小时计算；
-cmin<分钟>：查找在指定时间之时被更改过的文件或目录；
-cnewer<参考文件或目录>查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；
-ctime<24小时数>：查找在指定时间之时被更改的文件或目录，单位以24小时计算；
-daystart：从本日开始计算时间；
-depth：从指定目录下最深层的子目录开始查找；
-expty：寻找文件大小为0 Byte的文件，或目录下没有任何子目录或文件的空目录；
-exec<执行指令>：假设find指令的回传值为True，就执行该指令；
-false：将find指令的回传值皆设为False；
-fls<列表文件>：此参数的效果和指定“-ls”参数类似，但会把结果保存为指定的列表文件；
-follow：排除符号连接；
-fprint<列表文件>：此参数的效果和指定“-print”参数类似，但会把结果保存成指定的列表文件；
-fprint0<列表文件>：此参数的效果和指定“-print0”参数类似，但会把结果保存成指定的列表文件；
-fprintf<列表文件><输出格式>：此参数的效果和指定“-printf”参数类似，但会把结果保存成指定的列表文件；
-fstype<文件系统类型>：只寻找该文件系统类型下的文件或目录；
-gid<群组识别码>：查找符合指定之群组识别码的文件或目录；
-group<群组名称>：查找符合指定之群组名称的文件或目录；
-help或——help：在线帮助；
-ilname<范本样式>：此参数的效果和指定“-lname”参数类似，但忽略字符大小写的差别；
-iname<范本样式>：此参数的效果和指定“-name”参数类似，但忽略字符大小写的差别；
-inum<inode编号>：查找符合指定的inode编号的文件或目录；
-ipath<范本样式>：此参数的效果和指定“-path”参数类似，但忽略字符大小写的差别；
-iregex<范本样式>：此参数的效果和指定“-regexe”参数类似，但忽略字符大小写的差别；
-links<连接数目>：查找符合指定的硬连接数目的文件或目录；
-iname<范本样式>：指定字符串作为寻找符号连接的范本样式；
-ls：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出；
-maxdepth<目录层级>：设置最大目录层级；
-mindepth<目录层级>：设置最小目录层级；
-mmin<分钟>：查找在指定时间曾被更改过的文件或目录，单位以分钟计算；
-mount：此参数的效果和指定“-xdev”相同；
-mtime<24小时数>：查找在指定时间曾被更改过的文件或目录，单位以24小时计算；
-name<范本样式>：指定字符串作为寻找文件或目录的范本样式；
-newer<参考文件或目录>：查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；
-nogroup：找出不属于本地主机群组识别码的文件或目录；
-noleaf：不去考虑目录至少需拥有两个硬连接存在；
-nouser：找出不属于本地主机用户识别码的文件或目录；
-ok<执行指令>：此参数的效果和指定“-exec”类似，但在执行指令之前会先询问用户，若回答“y”或“Y”，则放弃执行命令；
-path<范本样式>：指定字符串作为寻找目录的范本样式；
-perm<权限数值>：查找符合指定的权限数值的文件或目录；
-print：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为每列一个名称，每个名称前皆有“./”字符串；
-print0：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为全部的名称皆在同一行；
-printf<输出格式>：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式可以自行指定；
-prune：不寻找字符串作为寻找文件或目录的范本样式;
-regex<范本样式>：指定字符串作为寻找文件或目录的范本样式；
-size<文件大小>：查找符合指定的文件大小的文件；
-true：将find指令的回传值皆设为True；
-type<文件类型>：只寻找符合指定的文件类型的文件；
-uid<用户识别码>：查找符合指定的用户识别码的文件或目录；
-used<日数>：查找文件或目录被更改之后在指定时间曾被存取过的文件或目录，单位以日计算；
-user<拥有者名称>：查找符和指定的拥有者名称的文件或目录；
-version或——version：显示版本信息；
-xdev：将范围局限在先行的文件系统中；
-xtype<文件类型>：此参数的效果和指定“-type”参数类似，差别在于它针对符号连接检查。
```
           
**参数：**
              
起始目录：查找文件的起始目录。
           
**常用命令：**
             
1. 当前目录搜索所有文件，文件内容 包含 “140.206.111.111” 的内容。
           
```bash
root@001:~# find . -type f -name "*" | xargs grep "140.206.111.111"
grep: ./nextcloud/ceshi/files_trashbin/files/Documents.d1571319700/Nextcloud: No such file or directory
grep: Flyer.pdf: No such file or directory
grep: ./nextcloud/ceshi/files_trashbin/files/Nextcloud: No such file or directory
grep: Manual.pdf.d1571319700: No such file or directory
grep: ./nextcloud/ceshi/files_trashbin/files/Nextcloud: No such file or directory
grep: intro.mp4.d1571319700: No such file or directory
grep: ./nextcloud/ceshi/files_trashbin/files/Photos.d1571319700/Nextcloud: No such file or directory
grep: Community.jpg: No such file or directory
grep: ./nextcloud/zhj/files/Photos/Nextcloud: No such file or directory
grep: Community.jpg: No such file or directory
grep: ./nextcloud/zhj/files/Documents/Nextcloud: No such file or directory
grep: Flyer.pdf: No such file or directory
grep: ./nextcloud/zhj/files/Nextcloud: No such file or directory
grep: intro.mp4: No such file or directory
grep: ./nextcloud/zhj/files/Nextcloud: No such file or directory
grep: Manual.pdf: No such file or directory
.
.
.
.
```
         
2. 在/root目录下查找以.txt结尾的文件名。
           
```bash
root@001:/home# find /root -name "*.txt"
/root/nextcloud/ceshi/files_trashbin/files/Documents.d1571319700/About.txt
/root/nextcloud/zhj/files/Documents/About.txt
/root/nextcloud/root/files_trashbin/files/Documents.d1571318817/About.txt
```
             
3. 在/root目录下查找以.txt结尾的文件名,但忽略大小写。
          
```bash
root@001:/home# find /root -iname "*.txt"
/root/nextcloud/ceshi/files_trashbin/files/Documents.d1571319700/About.txt
/root/nextcloud/zhj/files/Documents/About.txt
/root/nextcloud/root/files_trashbin/files/Documents.d1571318817/About.txt
```
          
4. 当前目录及子目录下查找所有以.txt和.pdf结尾的文件。
          
```bash
root@001:~# find . -name "*.txt" -o -name "*.pdf"
./nextcloud/ceshi/files_trashbin/files/Documents.d1571319700/About.txt
./nextcloud/ceshi/files_trashbin/files/Documents.d1571319700/Nextcloud Flyer.pdf
./nextcloud/zhj/files/Documents/About.txt
./nextcloud/zhj/files/Documents/Nextcloud Flyer.pdf
./nextcloud/zhj/files/Nextcloud Manual.pdf
./nextcloud/root/files_trashbin/files/Documents.d1571318817/About.txt
./nextcloud/root/files_trashbin/files/Documents.d1571318817/Nextcloud Flyer.pdf
```
              
5. 搜索最近七天内被访问过的所有文件。
          
```bash
root@001:~# find . -type f -atime -7
./.oracle_jre_usage/e1fbfbacb27ec0cc.timestamp
./.bash_history
./swapfile
./HostGuardAgent_Linux64_V1.12.40.deb.sha256
./.bashrc
./.profile
./HwAgentInstall_64.sh
./hostguard_setup_config.dat
./.viminfo
./.config/htop/htoprc
./nextcloud/ceshi/files_trashbin/files/Documents.d1571319700/About.txt
./nextcloud/ceshi/files_trashbin/files/Documents.d1571319700/About.odt
./nextcloud/ceshi/files_trashbin/files/Nextcloud.png.d1571319700
./nextcloud/ceshi/files_trashbin/files/Photos.d1571319700/Nut.jpg
./nextcloud/ceshi/files_trashbin/files/Photos.d1571319700/Coast.jpg
./nextcloud/ceshi/files_trashbin/files/Photos.d1571319700/Hummingbird.jpg
./nextcloud/index.html
./nextcloud/nextcloud.db
./nextcloud/nextcloud.log
.
.
.
./.halo/logs/spring.log.2019-11-09.0.gz
./.halo/logs/spring.log.2019-10-14.0.gz
./.halo/logs/spring.log.2019-09-27.0.gz
./.cache/motd.legal-displayed
./.cache/pip/selfcheck.json
./.cache/pip/http/b/b/8/7/6/bb876b2e6a22c2739002e9ef3388ae978b7a6192a19fe67d8b0030f2
./.cache/pip/http/f/e/d/0/e/fed0ed508030b766d5b0c2792132c8bf197804464765b46b361f93a4
./.ssh/authorized_keys
```
             
6. 搜索大于10KB的文件。
         
```bash
root@001:~# find . -type f -size +10k
./.bash_history
./swapfile
./HwAgentInstall_64.sh
./nextcloud/ceshi/files_trashbin/files/Documents.d1571319700/About.odt
./nextcloud/ceshi/files_trashbin/files/Documents.d1571319700/Nextcloud Flyer.pdf
./nextcloud/ceshi/files_trashbin/files/Nextcloud Manual.pdf.d1571319700
./nextcloud/ceshi/files_trashbin/files/Nextcloud.png.d1571319700
./nextcloud/ceshi/files_trashbin/files/Nextcloud intro.mp4.d1571319700
./nextcloud/ceshi/files_trashbin/files/Photos.d1571319700/Nextcloud Community.jpg
./nextcloud/ceshi/files_trashbin/files/Photos.d1571319700/Nut.jpg
./nextcloud/ceshi/files_trashbin/files/Photos.d1571319700/Coast.jpg
./nextcloud/ceshi/files_trashbin/files/Photos.d1571319700/Hummingbird.jpg
./nextcloud/nextcloud.db
./nextcloud/nextcloud.log
.
.
.
.
./.halo/logs/spring.log.2019-10-20.0.gz
./.halo/logs/spring.log.2019-11-07.0.gz
./.halo/logs/spring.log.2019-12-02.0.gz
./.halo/logs/spring.log.2019-10-28.0.gz
./.halo/logs/spring.log.2019-11-26.0.gz
./.halo/logs/spring.log.2019-10-08.0.gz
./.halo/logs/spring.log.2019-11-15.0.gz
./.halo/logs/spring.log.2019-10-09.0.gz
./.halo/logs/spring.log.2019-11-12.0.gz
./.halo/logs/spring.log.2019-11-10.0.gz
./.halo/logs/spring.log.2019-10-07.0.gz
./.halo/logs/spring.log.2019-12-06.0.gz
./.halo/logs/spring.log.2019-10-12.0.gz
./.cache/pip/http/b/b/8/7/6/bb876b2e6a22c2739002e9ef3388ae978b7a6192a19fe67d8b0030f2
```
          
7. 当前目录下搜索出权限为600的文件。
        
```bash
root@001:~# find . -type f -perm 600
./.bash_history
./.viminfo
./.cache/pip/http/b/b/8/7/6/bb876b2e6a22c2739002e9ef3388ae978b7a6192a19fe67d8b0030f2
./.cache/pip/http/f/e/d/0/e/fed0ed508030b766d5b0c2792132c8bf197804464765b46b361f93a4
```