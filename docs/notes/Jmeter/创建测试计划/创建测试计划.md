# 1. 创建测试计划
>Jmeter的测试计划以`.jmx`格式保存

## 1.1. 创建线程组
菜单路径：`测试计划`-`添加`-`线程（用户）`-`线程组`

参数：
- 取样器错误后要执行的动作
- 线程数：一个用户占一个线程， 100 个线程就是模拟 100 个用户
- Ramp-Up时间（秒）：设置线程需要多长时间全部启动。如果线程数为 200 ，准备时长为 10 ，那么需要 1 秒钟启动 20 个线程。也就是每秒钟启动 20 个线程。
- 循环次数：每个线程发送请求的次数。如果线程数为 200 ，循环次数为 10 ，那么每个线程发送 10 次请求。总请求数为 200*10=2000 。如果勾选了 “永远”，那么所有线程会一直发送请求，直到选择停止运行脚本。

## 1.2. 取样器
### 1.2.1. HTTP请求
菜单路径:`线程组`-`添加`-`取样器`-`HTTP请求`

## 1.3. 配置元件
### 1.3.1. HTTP信息头管理器
菜单路径:`线程组`-`添加`-`配置元件`-`HTTP信息头管理器`

### 1.3.2. HTTP请求默认值
菜单路径:`线程组`-`添加`-`配置元件`-`HTTP请求默认值`

## 1.4. 断言
> 断言用来检测响应返回的结果和我们预期的是否一致

### 1.4.1. 响应断言
菜单路径:`线程组`-`添加`-`断言`-`响应断言`

### 1.4.2. JSON断言
菜单路径:`线程组`-`添加`-`断言`-`JSON断言`

## 1.5. 监听器
### 1.5.1. 查看结果树
菜单路径:`线程组`-`添加`-`监听器`-`查看结果树`

### 1.5.2. 汇总报告
菜单路径:`线程组`-`添加`-`监听器`-`汇总报告`

## 1.6. 后置处理器
### 1.6.1. 正则表达式提取器


菜单路径:`线程组`-`添加`-`后置处理器`-`正则表达式提取器`

参数：
- 引用名称：其他地方引用提取值的变量名称，如填写的是：str，具体的引用方式是${str}
- 正则表达式：提取内容的正则表达式【稍注意一下：()表示提取，对于你要提前的内容需要用小括号括起来】
- 模板：用$$引用起来，如果在正则表达式中有多个提取表达式（多个括号括起来的东东），则可以是$1$，$2$等等，表示解析到的第几个值给str，正则表达式的提取模式，值从1开始
- 匹配数字(0代表随机)：0代表随机，-1代表所有，其余正整数代表将在已提取的内容中，第几个匹配的内容
- 缺省值：正则匹配失败时，取的值

#### 1.6.1.1. 正则表达式
>正则表达式取值原理:左边界(.+?)右边界

关于正则表达式：
- `()`：括起来的部分就是要提取的。
- `.`：匹配除换行外的任何字符串。
- `+`：代表 + 号前面的字符必须至少出现一次（一次或多次）。
- `?`：代表？前面的字符最多可以出现一次，在找到第一个匹配项后停止（0 次或 1 次）。
- `：`：代表号前面的字符可以不出现，也可以出现一次或者多次（0 次、1 次或者多次）
- `(.)`：贪婪模式，匹配尽可能多的字符
-`(. ?)或(.+?)`：匹配尽可能少的字符，一旦匹配到第一个就不往下走了。


## 1.7. 执行测试计划
执行测试计划应该使用`命令行模式`，语法形式如下：

```shell
jmeter -n -t [jmx file] -l [results file] -e -o [Path to web report folder]
```

- `jmx file` 为`测试计划文件路径`
- `results file` 为`测试结果文件路径`
- `Path to web report folder` 为`web报告保存路径`
